<!-- Статистика -->
<div class="card">
    <div class="flex justify-between">
        <h2 class="flex" style="margin-bottom:0">
            <i data-lucide="bar-chart-2" style="color: var(--accent-primary)"></i>
            Статистика
        </h2>
        <button class="btn btn-danger flex" onclick="clearAll()">
            <i data-lucide="trash-2" style="width: 16px; height: 16px;"></i>
            Очистить всю историю
        </button>
    </div>
    <div
        style="margin-top: 1.5rem; display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem;">
        <!-- Всего чатов -->
        <div class="stat-card"
            style="background: rgba(107, 70, 193, 0.05); padding: 1.25rem; border-radius: 20px; border: 1px solid rgba(107, 70, 193, 0.1);">
            <div class="flex" style="margin-bottom: 0.75rem; color: var(--text-secondary); font-size: 0.9rem;">
                <i data-lucide="message-square"
                    style="width: 18px; height: 18px; margin-right: 0.5rem; color: var(--accent-primary);"></i>
                Всего чатов
            </div>
            <div style="display: flex; align-items: baseline; gap: 0.75rem;">
                <div style="font-size: 2rem; font-weight: 700; color: var(--text-primary);">{{ stats.chats_count }}
                </div>
                <div style="font-size: 0.85rem; color: var(--success); font-weight: 500;">
                    <i data-lucide="trending-up"
                        style="width: 12px; height: 12px; display: inline-block; vertical-align: middle;"></i>
                    {{ stats.active_chats_24h }} за 24ч
                </div>
            </div>
        </div>

        <!-- Сообщений всего -->
        <div class="stat-card"
            style="background: rgba(16, 185, 129, 0.05); padding: 1.25rem; border-radius: 20px; border: 1px solid rgba(16, 185, 129, 0.1);">
            <div class="flex" style="margin-bottom: 0.75rem; color: var(--text-secondary); font-size: 0.9rem;">
                <i data-lucide="send"
                    style="width: 18px; height: 18px; margin-right: 0.5rem; color: var(--success);"></i>
                Сообщений всего
            </div>
            <div style="display: flex; align-items: baseline; gap: 0.75rem;">
                <div style="font-size: 2rem; font-weight: 700; color: var(--text-primary);">{{ stats.total_messages }}
                </div>
                <div style="font-size: 0.85rem; color: var(--success); font-weight: 500;">
                    +{{ stats.messages_24h }} за 24ч
                </div>
            </div>
        </div>

        <!-- Распределение Платформ -->
        <div class="stat-card"
            style="background: rgba(59, 130, 246, 0.05); padding: 1.25rem; border-radius: 20px; border: 1px solid rgba(59, 130, 246, 0.1);">
            <div class="flex" style="margin-bottom: 0.75rem; color: var(--text-secondary); font-size: 0.9rem;">
                <i data-lucide="layers" style="width: 18px; height: 18px; margin-right: 0.5rem; color: #3b82f6;"></i>
                Платформы (сообщения)
            </div>
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <div class="flex justify-between" style="font-size: 0.95rem;">
                    <span class="flex" style="color: #3b82f6; font-weight: 500;">
                        <i data-lucide="send" style="width: 14px; height: 14px;"></i> Telegram
                    </span>
                    <span style="font-weight: 700;">{{ stats.telegram_messages }}</span>
                </div>
                <div class="flex justify-between" style="font-size: 0.95rem;">
                    <span class="flex" style="color: #8b5cf6; font-weight: 500;">
                        <i data-lucide="gamepad-2" style="width: 14px; height: 14px;"></i> Discord
                    </span>
                    <span style="font-weight: 700;">{{ stats.discord_messages }}</span>
                </div>
            </div>
        </div>

        <!-- Активность Бота -->
        <div class="stat-card"
            style="background: rgba(245, 158, 11, 0.05); padding: 1.25rem; border-radius: 20px; border: 1px solid rgba(245, 158, 11, 0.1);">
            <div class="flex" style="margin-bottom: 0.75rem; color: var(--text-secondary); font-size: 0.9rem;">
                <i data-lucide="cpu" style="width: 18px; height: 18px; margin-right: 0.5rem; color: #f59e0b;"></i>
                Соотношение (Role)
            </div>
            <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                <div class="flex justify-between" style="font-size: 0.95rem;">
                    <span class="flex" style="color: var(--text-primary); font-weight: 500;">
                        <i data-lucide="user" style="width: 14px; height: 14px;"></i> User
                    </span>
                    <span style="font-weight: 700;">{{ stats.user_messages }}</span>
                </div>
                <div class="flex justify-between" style="font-size: 0.95rem;">
                    <span class="flex" style="color: var(--accent-primary); font-weight: 500;">
                        <i data-lucide="bot" style="width: 14px; height: 14px; color: var(--accent-primary);"></i> Bot
                    </span>
                    <span style="font-weight: 700;">{{ stats.assistant_messages }}</span>
                </div>
            </div>
        </div>
    </div>
</div>